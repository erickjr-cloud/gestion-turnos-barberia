<section class="superadmin-page">

  <!-- HEADER -->
  <div class="superadmin-header glass">
    <h2>Panel SuperAdministrador</h2>
    <p class="subtitle">
      Gestión avanzada de usuarios y roles del sistema
    </p>
  </div>

  <!-- CREAR USUARIO -->
  <div class="superadmin-card glass">
    <h3>Crear nuevo usuario</h3>

    <div class="form-crear">

      <div class="form-group">
        <label>Nombre</label>
        <input
          type="text"
          placeholder="Nombre"
          [(ngModel)]="nuevoNombre"
        >
      </div>

      <div class="form-group">
        <label>Email</label>
        <input
          type="email"
          placeholder="Email"
          [(ngModel)]="nuevoEmail"
        >
      </div>

      <div class="form-group">
        <label>Contraseña</label>
        <input
          type="password"
          placeholder="Contraseña"
          [(ngModel)]="nuevoPassword"
        >
      </div>

      <div class="form-group">
        <label>Rol</label>
        <select [(ngModel)]="nuevoRol">
          <option *ngFor="let r of roles" [value]="r">
            {{ r }}
          </option>
        </select>
      </div>

      <button class="btn btn-gold" (click)="crearUsuario()">
        Crear Usuario
      </button>

    </div>
  </div>

  <!-- LISTA USUARIOS -->
  <div class="superadmin-card glass">

    <h3>Usuarios registrados</h3>

    <div *ngIf="cargando" class="loading">
      Cargando usuarios...
    </div>

    <table *ngIf="!cargando">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Email</th>
          <th>Rol</th>
          <th>Acciones</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let u of usuarios">
          <td>{{ u.nombre }}</td>
          <td>{{ u.email }}</td>

          <td>
            <select
              [ngModel]="u.rol"
              (ngModelChange)="cambiarRol(u.uid, $event)"
            >
              <option *ngFor="let r of roles" [value]="r">
                {{ r }}
              </option>
            </select>
          </td>

          <td>
            <button
              class="btn btn-danger"
              *ngIf="u.uid !== miUID"
              (click)="eliminar(u.uid)"
            >
              Eliminar
            </button>
          </td>

        </tr>
      </tbody>
    </table>

  </div>

</section>
