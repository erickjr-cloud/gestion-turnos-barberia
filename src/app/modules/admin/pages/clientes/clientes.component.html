<section class="clientes-page">

  <!-- HEADER -->
  <div class="clientes-header glass">
    <h2>Gestionar Clientes</h2>
    <p class="subtitle">
      Administración de cuentas de clientes y asignación de roles
    </p>
  </div>

  <!-- CONTENIDO -->
  <div class="clientes-card glass">

    <div *ngIf="cargando" class="loading">
      Cargando clientes...
    </div>

    <table *ngIf="!cargando">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Email</th>
          <th>Rol</th>
          <th>Acciones</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let u of clientes">

          <td>{{ u.nombre }}</td>
          <td>{{ u.email }}</td>

          <!-- CAMBIO DE ROL -->
          <td>
            <select
              [ngModel]="u.rol"
              (ngModelChange)="cambiarRol(u, $event)"
            >
              <option *ngFor="let r of roles" [value]="r">
                {{ r }}
              </option>
            </select>
          </td>

          <!-- ELIMINAR -->
          <td>
            <button
              class="btn btn-danger"
              (click)="eliminar(u)"
            >
              Eliminar
            </button>
          </td>

        </tr>
      </tbody>
    </table>

  </div>

</section>
